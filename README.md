# Otus Homework 19. DHCP, PXE
### Цель домашнего задания
Отработать навыки установки и настройки DHCP, TFTP, PXE загрузчика и автоматической загрузки
### Описание домашнего задания
1. Настроить загрузку по сети дистрибутива Ubuntu 24
2. Установка должна проходить из HTTP-репозитория
3. Настроить автоматическую установку c помощью файла user-data

## Выполнение
Домашнее задание выполняется на **Vagrant** стенде с помощью **Ansible**. Vagrant создает 2 виртуальные машины: *pxeserver* и *pxeclient*. Так как *pxecleint* будет пытаться найти PXE-сервер в сети, команда *Vagrant up* завершится с ошибкой.
Настроим pxeserver, запустив *ansible playbook*:
```bash
ansible-playbook pxe.yml
```
---
**В процессе выполнения задания столкнулся с тем, что Ansible при попытке скачать файл образа системы большого объема как с помощью модуля get_url, так и с помощью команды wget в модуле shell, часто скачивает битый файл. Размер незначительно отличается и контрольная сумма не совпадает. В итоге при попытке pxeclient загрузиться из этого образа, получаем ошибку Unable to find a live file system on the network. В этом случае для проверки работы необходимо зайти на сервер и вручную скачать файл командой:**
```bash
wget http://cdimage.ubuntu.com/ubuntu-server/daily-live/current/oracular-live-server-amd64.iso -P /srv/images/
```
---
Результатом выполнения плэйбука будет настроенный с помощью утилиты **dnsmasq** PXE-сервер, а также DHCP и TFTP сервера.
Файлы будут отдаваться по HTTP с веб сервера nginx
